

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PHP Coding Style Guide &mdash; CodeIgniter4 4.0.0-dev documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/ci-icon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/citheme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="CodeIgniter4 4.0.0-dev documentation" href="../index.html"/>
        <link rel="up" title="Contributing to CodeIgniter" href="index.html"/>
        <link rel="next" title="Developer’s Certificate of Origin 1.1" href="../DCO.html"/>
        <link rel="prev" title="Writing CodeIgniter Documentation" href="documentation.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> CodeIgniter4
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Welcome to CodeIgniter4</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">CodeIgniter4 Overview</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">General Topics</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">Library Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Database Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Contributing to CodeIgniter</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="guidelines.html">Contribution Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflow.html">Contribution Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="signing.html">Contribution Signing</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmap.html">CodeIgniter4 Roadmap</a></li>
<li class="toctree-l2"><a class="reference internal" href="internals.html">CodeIgniter Internals Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html">Writing CodeIgniter Documentation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">PHP Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DCO.html">Developer’s Certificate of Origin 1.1</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CodeIgniter4</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Contributing to CodeIgniter</a> &raquo;</li>
        
      <li>PHP Coding Style Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="php-coding-style-guide">
<h1>PHP Coding Style Guide<a class="headerlink" href="#php-coding-style-guide" title="Permalink to this headline">¶</a></h1>
<p>The following document declares a set of coding convention rules to be
followed when contributing PHP code to the CodeIgniter project.</p>
<p>Some of these rules, like naming conventions for example, <em>may</em> be
incorporated into the framework’s logic and therefore be functionally
enforced (which would be separately documented), but while we would
recommend it, there’s no requirement that you follow these conventions in
your own applications.</p>
<p>The <a class="reference external" href="http://www.php-fig.org/">PHP Interop Group</a> has proposed a number of
canonical recommendations for PHP code style. CodeIgniter is not a member of
of PHP-FIG. We commend their efforts to unite the PHP community,
but no not agree with all of their recommendations.</p>
<p>PSR-2 is PHP-FIG’s Coding Style Guide. We do not claim conformance with it,
although there are a lot of similarities. The differences will be pointed out
below.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">See the
<a class="reference external" href="https://github.com/bcit-ci/CodeIgniter4-developer-setup">CodeIgniter4-developer-setup</a>
repository for tips on configuring your IDE or editor to help you conform
to the style guide.</p>
</div>
<p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”,
“SHOULD NOT”, “RECOMMENDED”,  “MAY”, and “OPTIONAL” in this document are to
be interpreted as described in <a class="reference external" href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>.</p>
<p><em>Note: When used below, the term “class” refers to all kinds of classes,
interfaces and traits.</em></p>
<div class="section" id="files">
<h2>Files<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h2>
<div class="section" id="formatting">
<h3>Formatting<a class="headerlink" href="#formatting" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Files MUST use UTF-8 character set encoding without BOM.</li>
<li>Files MUST use UNIX line endings (LF: <cite>n</cite>).</li>
<li>Files MUST end with a single empty line (i.e. LF: <cite>n</cite>).</li>
</ul>
</div>
<div class="section" id="structure">
<h3>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">A single file SHOULD NOT declare more than one class.
Examples where we feel that more than one class in a source file
is appropriate:</p>
<blockquote>
<div><ul class="simple">
<li><cite>system/Debug/CustomExceptions</cite> contains a number of CodeIgniter
exceptions and errors, that we want to use for a consistent
experience across applications.
If we stick with the purist route, then each of the 13+/- custom
exceptions would require an additional file, which would have a
performance impact at times.</li>
<li><cite>system/HTTP/Response</cite> provides a RedirectException, used with the
Response class.</li>
<li><cite>system/Router/Router</cite> similarly provides a RedirectException, used with
the Router class.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Files SHOULD either declare symbols (i.e. classes, functions, constants)
or execute non-declarative logic, but SHOULD NOT do both.</p>
</li>
</ul>
</div>
<div class="section" id="naming">
<h3>Naming<a class="headerlink" href="#naming" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>File names MUST end with a “.php” name extension and MUST NOT have
multiple name extensions.</li>
<li>Files declaring classes, interfaces or traits MUST have names exactly matching
the classes that they declare (obviously excluding the “.php” name extension).</li>
<li>Files declaring functions SHOULD be named in <em>snake_case.php</em>.</li>
</ul>
</div>
</div>
<div class="section" id="whitespace-indentation-and-alignment">
<h2>Whitespace, indentation and alignment<a class="headerlink" href="#whitespace-indentation-and-alignment" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Best practice: indentation SHOULD use only tabs.</li>
<li>Best practice: alignment SHOULD use only spaces.</li>
<li>If using tabs for anything, you MUST set the tab spacing to 4.</li>
</ul>
<p>This will accommodate the widest range of developer environment options,
while maintaining consistency of code appearance.</p>
<p>Following the “best practice” above,
the following code block would have a single tab at the beginning of
each line containing braces, and two tabs at the beginning of the
nested statements. No alignment is implied:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nv">$first</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="nv">$second</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="nv">$third</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Following the “best practice” above,
the following code block would use spaces to have the assignment
operators line up with each other:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nv">$first</span>  <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="nv">$second</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="nv">$third</span>  <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Our indenting and alignment convention differs from PSR-2, which
<strong>only</strong> uses spaces for both indenting and alignment.</p>
</div>
<ul>
<li><p class="first">Unnecessary whitespace characters MUST NOT be present anywhere within a
script.</p>
<p>That includes trailing whitespace after a line of code, two or
more spaces used when only one is necessary (excluding alignment), as
well as any other whitespace usage that is not functionally required or
explicitly described in this document.</p>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">With conforming tab settings, alignment spacing should
be preserved in all development environments.
A pull request that deals only with tabs or spaces for alignment
will not be favorably considered.</p>
</div>
</div>
<div class="section" id="code">
<h2>Code<a class="headerlink" href="#code" title="Permalink to this headline">¶</a></h2>
<div class="section" id="php-tags">
<h3>PHP tags<a class="headerlink" href="#php-tags" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Opening tags MUST only use the <cite>&lt;?php</cite> and <cite>&lt;?=</cite> forms.<ul>
<li>Scripts producing output SHOULD use the “short echo” <cite>&lt;?=</cite> tag.</li>
<li>Scripts declaring and/or using conditional logic SHOULD use the “long”
<cite>&lt;?php</cite> tag.</li>
</ul>
</li>
<li>Closing <cite>?&gt;</cite> tags SHOULD NOT be used, unless the intention is to start
direct output.<ul>
<li>Scripts that don’t produce output MUST NOT use the closing <cite>?&gt;</cite> tag.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="namespaces-and-classes">
<h3>Namespaces and classes<a class="headerlink" href="#namespaces-and-classes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Class names and namespaces SHOULD be declared in <cite>UpperCamelCase</cite>,
also called <cite>StudlyCaps</cite>, unless
another form is <em>functionally</em> required.<ul>
<li>Abbreviations in namespaces, class names and method names SHOULD be
written in capital letters (e.g. PHP).</li>
</ul>
</li>
<li>Class constants MUST be declared in <cite>CAPITALS_SEPARATED_BY_UNDERSCORES</cite>.</li>
<li>Class methods, property names and other variables MUST be declared in
<cite>lowerCamelCase()</cite>.</li>
<li>Class methods and properties MUST have visibility declarations (i.e.
<cite>public</cite>, <cite>private</cite> or <cite>protected</cite>).</li>
</ul>
<div class="section" id="methods">
<h4>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h4>
<p>To maintain consistency between core classes, class properties MUST
be private or protected, and the following public methods
MUST be used for each such property “x”</p>
<ul class="simple">
<li><cite>getX()</cite> when the method returns returns a property value, or null if not set</li>
<li><cite>setX(value)</cite> changes a property value, doesn’t return anything, and can
throw exceptions</li>
<li><cite>hasX()</cite> returns a boolean to if a property exists</li>
<li><cite>newX()</cite> creates an instance of a/the component object and returns it,
and can throw exceptions</li>
<li><cite>isX()</cite> returns true/false for boolean properties</li>
<li>Methods SHOULD use type hints and return type hints</li>
</ul>
</div>
</div>
<div class="section" id="procedural-code">
<h3>Procedural code<a class="headerlink" href="#procedural-code" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Function and variable names SHOULD be declared in <cite>snake_case()</cite> (all
lowercase letters, separated by underscores), unless another form is
<em>functionally</em> required.</li>
<li>Constants MUST be declared in <cite>CAPITALS_SEPARATED_BY_UNDERSCORES</cite>.</li>
</ul>
</div>
<div class="section" id="keywords">
<h3>Keywords<a class="headerlink" href="#keywords" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>All keywords MUST be written in lowercase letters. This includes “scalar”
types, but does NOT include core PHP classes such as <cite>stdClass</cite> or
<cite>Exception</cite>.</li>
<li>Adjacent keywords are separated by a single space character.</li>
<li>The keywords <cite>require</cite>, <cite>require_once</cite>, <cite>include</cite>, <cite>include_once</cite> MUST
be followed by a single space character and MUST NOT be followed by a
parenthesis anywhere within the declaration.</li>
<li>The <cite>function</cite> keyword MUST be immediately followed by either an opening
parenthesis or a single space and a function name.</li>
<li>Other keywords not explicitly mentioned in this section MUST be separated
by a single space character from any printable characters around them and
on the same line.</li>
</ul>
</div>
<div class="section" id="operators">
<h3>Operators<a class="headerlink" href="#operators" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The single dot concatenation, incrementing, decrementing, error
suppression operators and references MUST NOT be separated from their
subjects.</li>
<li>Other operators not explicitly mentioned in this section MUST be
separated by a single space character from any printable characters
around them and on the same line.</li>
<li>An operator MUST NOT be the last set of printable characters on a line.</li>
<li>An operator MAY be the first set of printable characters on a line.</li>
</ul>
</div>
<div class="section" id="logical-operators">
<h3>Logical Operators<a class="headerlink" href="#logical-operators" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Use the symbol versions (<strong>||</strong> and <strong>&amp;&amp;</strong>) of the logical operators
instead of the word versions (<strong>OR</strong> and <strong>AND</strong>).</p>
<blockquote>
<div><ul>
<li><p class="first">This is consistent with other programming languages</p>
</li>
<li><p class="first">It avoids the problem of the assignment operator (<strong>=</strong>) having
higher precedence:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$result</span> <span class="o">=</span> <span class="k">true</span> <span class="o">&amp;&amp;</span> <span class="k">false</span><span class="p">;</span> <span class="c1">// $result is false, expected</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="k">true</span> <span class="k">OR</span> <span class="k">false</span><span class="p">;</span> <span class="c1">// $result is true, evaluated as &quot;($result = true) OR false&quot;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="p">(</span><span class="k">true</span> <span class="k">OR</span> <span class="k">false</span><span class="p">);</span> <span class="c1">// $result is false</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">The logical negation operator MUST be separated from its argument by a
single space, as in <strong>! $result</strong> instead of <strong>!$result</strong></p>
</li>
<li><p class="first">If there is potential confusion with a logical expression, then use
parentheses for clarity, as shown above.</p>
</li>
</ul>
</div>
<div class="section" id="control-structures">
<h3>Control Structures<a class="headerlink" href="#control-structures" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Control structures, such as <strong>if/else</strong> statements, <strong>for/foreach</strong> statements, or
<strong>while/do</strong> statements, MUST use a brace-surrounded block for their body
segments.</p>
<p>Good control structure examples:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span> <span class="nv">$foo</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$bar</span> <span class="o">+=</span> <span class="nv">$baz</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="nv">$baz</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Not-acceptable control structures:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span> <span class="nv">$foo</span> <span class="p">)</span> <span class="nv">$bar</span> <span class="o">=</span> <span class="nv">$oneThing</span> <span class="o">+</span> <span class="nv">$anotherThing</span> <span class="o">+</span> <span class="nv">$yetAnotherThing</span> <span class="o">+</span> <span class="nv">$evenMore</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span> <span class="nv">$foo</span> <span class="p">)</span> <span class="nv">$bar</span> <span class="o">+=</span> <span class="nv">$baz</span><span class="p">;</span>
<span class="k">else</span> <span class="nv">$baz</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="other">
<h3>Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Argument separators (comma: <cite>,</cite>) MUST NOT be preceded by a whitespace
character and MUST be followed by a space character or a newline
(LF: <cite>n</cite>).</li>
<li>Semi-colons (i.e. <cite>;</cite>) MUST NOT be preceded by a whitespace character
and MUST be followed by a newline (LF: <cite>n</cite>).</li>
<li>Opening parentheses SHOULD NOT be followed by a space character.</li>
<li>Closing parentheses SHOULD NOT be preceded by a space character.</li>
<li>Opening square brackets SHOULD NOT be followed by a space character,
unless when using the “short array” declaration syntax.</li>
<li>Closing square brackets SHOULD NOT be preceded by a space character,
unless when using the “short array” declaration syntax.</li>
<li>A curly brace SHOULD be the only printable character on a line, unless:<ul>
<li>When declaring an anonymous function.</li>
<li>Inside a “variable variable” (i.e. <cite>${$foo}</cite> or <cite>${‘foo’.$bar}</cite>).</li>
<li>Around a variable in a double-quoted string (i.e. <cite>“Foo {$bar}”</cite>).</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Our control structures braces convention differs from PSR-2.
We use “Allman style” notation instead.</p>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../DCO.html" class="btn btn-neutral float-right" title="Developer’s Certificate of Origin 1.1" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="documentation.html" class="btn btn-neutral" title="Writing CodeIgniter Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2018 British Columbia Institute of Technology.
      Last updated on Jan 10, 2018.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'4.0.0-dev',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>